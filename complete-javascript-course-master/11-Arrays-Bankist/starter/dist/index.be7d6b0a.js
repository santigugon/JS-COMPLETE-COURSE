"use strict";const account1={owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111,act:"NO"},account2={owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,act:"NO"},account3={owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,act:"NO"},account4={owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,act:"NO"},accounts=[account1,account2,account3,account4],app=document.querySelector(".app"),labelWelcome=document.querySelector(".welcome"),labelDate=document.querySelector(".date"),labelBalance=document.querySelector(".balance__value"),labelSumIn=document.querySelector(".summary__value--in"),labelSumOut=document.querySelector(".summary__value--out"),labelSumInterest=document.querySelector(".summary__value--interest"),labelTimer=document.querySelector(".timer"),containerApp=document.querySelector(".app"),containerMovements=document.querySelector(".movements"),btnLogin=document.querySelector(".login__btn"),btnTransfer=document.querySelector(".form__btn--transfer"),btnLoan=document.querySelector(".form__btn--loan"),btnClose=document.querySelector(".form__btn--close"),btnSort=document.querySelector(".btn--sort"),inputLoginUsername=document.querySelector(".login__input--user"),inputLoginPin=document.querySelector(".login__input--pin"),inputTransferTo=document.querySelector(".form__input--to"),inputTransferAmount=document.querySelector(".form__input--amount"),inputLoanAmount=document.querySelector(".form__input--loan-amount"),inputCloseUsername=document.querySelector(".form__input--user"),inputClosePin=document.querySelector(".form__input--pin"),generateUserName=e=>{let t=[];return t.push(e.trimStart()[0]),t.push(e[e.indexOf(" ")+1]),e.indexOf(" ")!==e.lastIndexOf(" ")&&t.push(e[e.lastIndexOf(" ")+1]),t=t.join("").toLowerCase(),t},computeUserName=function(e){e.forEach((e=>{e.username=generateUserName(e.owner)}))};computeUserName(accounts);const displayMovements=function(e){containerMovements.innerHTML="",e.forEach((function(e,t){const o=e>0?"deposit":"withdrawal",n=`<div class="movements">\n      <div class="movements__row">\n        <div class="movements__type movements__type--${o}">${t+1} ${o}</div>\n        <div class="movements__value">${e}€</div>\n      </div>\n      `;containerMovements.insertAdjacentHTML("afterbegin",n)}))},calculateBalance=function(e){const t=e.reduce(((e,t)=>e+t),0);return labelBalance.textContent=` ${t}€`},calculateDeposit=function(e){const t=e.filter((e=>e>0)).reduce(((e,t,o,n)=>(console.log(n),e+t)),0);return labelSumIn.textContent=`${t}€`},calculateWithdrawals=function(e){const t=e.filter((e=>e<0)).reduce(((e,t,o,n)=>(console.log(n),e+t)),0);return labelSumOut.textContent=`${Math.abs(t)}€`},accountSummary=function(e){displayMovements(e.movements),calculateBalance(e.movements),calculateDeposit(e.movements),calculateWithdrawals(e.movements),calculateInterest(e.movements,e.interestRate)},calculateInterest=function(e,t){const o=e.filter((e=>e>0)).map((e=>e*t/100)).filter((e=>e>1)).reduce(((e,t)=>e+t),0);return labelSumInterest.textContent=`${o}€`},login=function(e,t){if(accounts.find((e=>"Active"===e.act)))alert("LOG OUT FIRST");else{const o=accounts.find((t=>t.username==e));o.pin===t?(app.style.opacity=100,inputLoginUsername.value=inputLoginPin.value="",inputLoginPin.blur(),accountSummary(o),o.act="Active",labelWelcome.textContent=`Welcome, ${o.owner.slice(0,o.owner.indexOf(" "))}`,labelTimer.textContent=setTimeout(logOut,3e5,o,e,t)):alert("Wrong password or username!")}};btnLogin.addEventListener("click",(function(e){e.preventDefault();const t=inputLoginUsername.value,o=Number(inputLoginPin.value);login(t,o)}));const logOut=function(e,t,o){e.pin===o&&e.username===t?(app.style.opacity=0,inputCloseUsername.value=inputClosePin.value="",e.act="NO",console.log(actUser()),labelWelcome.textContent="Log in to get started"):alert("Wrong password or username!")},actUser=()=>accounts.find((e=>"Active"===e.act));btnClose.addEventListener("click",(function(e){e.preventDefault();const t=inputCloseUsername.value,o=Number(inputClosePin.value);let n=actUser();logOut(n,t,o)}));const transferMoney=function(e,t){const o=actUser();if(o.movements.reduce(((e,t)=>e+t),0)>=t){o.movements.push(-t);accounts.find((t=>t.username===e)).movements.push(t),accountSummary(o),inputTransferTo.value="",inputLoanAmount.value=0}else alert("Not enough money, try another amount")};btnTransfer.addEventListener("click",(function(e){e.preventDefault();const t=inputTransferTo.value,o=Number(inputTransferAmount.value);transferMoney(t,o)}));const maxDeposit=function(e){return e.movements.reduce(((e,t)=>(t>e&&(e=t),e)),0)},checkLoan=function(e){const t=actUser();console.log(maxDeposit(t)),e<.1*maxDeposit(t)?(t.movements.push(e),accountSummary(t)):alert("Not enough credit")};btnLoan.addEventListener("click",(function(e){e.preventDefault();const t=Number(inputLoanAmount.value);checkLoan(t)}));let sorted=!1;btnSort.addEventListener("click",(function(e){e.preventDefault();var t,o;displayMovements((t=actUser(),!1===(o=sorted)?(sorted=!0,t.movements.slice().reverse()):!0===o?(sorted=!1,t.movements):void 0))}));const currencies=new Map([["USD","United States dollar"],["EUR","Euro"],["GBP","Pound sterling"]]),movements=[200,450,-400,3e3,-650,-130,70,1300],bankDeposits=accounts.flatMap((e=>e.movements)).filter((e=>e>0)).reduce(((e,t)=>e+t),0);console.log(bankDeposits);const bankDeposits1000=accounts.flatMap((e=>e.movements)).filter((e=>e>1e3)).reduce(((e,t)=>e+1),0);console.log(bankDeposits1000);const dogs=[{weight:22,curFood:250,owners:["Alice","Bob"]},{weight:8,curFood:200,owners:["Matilda"]},{weight:13,curFood:275,owners:["Sarah","John"]},{weight:32,curFood:340,owners:["Michael"]}];let createRecommendedPortion=e=>e.map((e=>e.portion=e.weight**.75*28)),enoughPortion=e=>{let t=dogs.find((t=>t.owners.includes(e)));t.curFood>=.9*t.portion?t.portion<=1.1*t.portion?console.log("Your dog is eating enough"):console.log("Your dog is eating too much"):console.log("Your dog is not eating enough")};createRecommendedPortion(dogs),console.log(dogs),enoughPortion("Sarah");const eatingTooMuch=dogs.filter((e=>e.curFood>1.1*e.portion)),eatingTooLittle=dogs.filter((e=>e.curFood<.9*e.portion)),displayOwnersDogProblems=function(){let e=[];eatingTooMuch.forEach((t=>{e.push(t.owners)})),console.log(`${e.flat().join(" and ")} dogs are eating too much`);let t=[];eatingTooLittle.forEach((e=>{t.push(e.owners)})),console.log(`${t.flat().join(" and ")} dogs are eating too little`)};displayOwnersDogProblems(),console.log(dogs.some((e=>e.portion===e.curFood))),console.log(dogs.some((e=>e.curFood>.9*e.portion&&e.curFood<1.1*e.portion))),console.log(dogs.filter((e=>e.curFood>.9*e.portion&&e.curFood<1.1*e.portion)));let orderDogs=dogs;orderDogs.portion.sort(((e,t)=>e-t)),console.log(orderDogs);
//# sourceMappingURL=index.be7d6b0a.js.map
