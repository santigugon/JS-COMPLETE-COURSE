{"mappings":"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","sources":["script.js"],"sourcesContent":["'use strict';\n\n/////////////////////////////////////////////////\n/////////////////////////////////////////////////\n// BANKIST APP\n\n/////////////////////////////////////////////////\n// Data\n\n// DIFFERENT DATA! Contains movement dates, currency and locale\n\nconst account1 = {\n  owner: 'Jonas Schmedtmann',\n  movements: [200, 455.23, -306.5, 25000, -642.21, -133.9, 79.97, 1300],\n  interestRate: 1.2, // %\n  pin: 1111,\n\n  movementsDates: [\n    '2019-11-18T21:31:17.178Z',\n    '2019-12-23T07:42:02.383Z',\n    '2020-01-28T09:15:04.904Z',\n    '2020-04-01T10:17:24.185Z',\n    '2020-05-08T14:11:59.604Z',\n    '2020-05-27T17:01:17.194Z',\n    '2020-07-11T23:36:17.929Z',\n    '2020-07-12T10:51:36.790Z',\n  ],\n  currency: 'EUR',\n  locale: 'pt-PT', // de-DE\n};\n\nconst account2 = {\n  owner: 'Jessica Davis',\n  movements: [5000, 3400, -150, -790, -3210, -1000, 8500, -30],\n  interestRate: 1.5,\n  pin: 2222,\n\n  movementsDates: [\n    '2019-11-01T13:15:33.035Z',\n    '2019-11-30T09:48:16.867Z',\n    '2019-12-25T06:04:23.907Z',\n    '2020-01-25T14:18:46.235Z',\n    '2020-02-05T16:33:06.386Z',\n    '2020-04-10T14:43:26.374Z',\n    '2020-06-25T18:49:59.371Z',\n    '2020-07-26T12:01:20.894Z',\n  ],\n  currency: 'USD',\n  locale: 'en-US',\n};\n\nconst accounts = [account1, account2];\n\n/////////////////////////////////////////////////\n// Elements\nconst labelWelcome = document.querySelector('.welcome');\nconst labelDate = document.querySelector('.date');\nconst labelBalance = document.querySelector('.balance__value');\nconst labelSumIn = document.querySelector('.summary__value--in');\nconst labelSumOut = document.querySelector('.summary__value--out');\nconst labelSumInterest = document.querySelector('.summary__value--interest');\nconst labelTimer = document.querySelector('.timer');\n\nconst containerApp = document.querySelector('.app');\nconst containerMovements = document.querySelector('.movements');\n\nconst btnLogin = document.querySelector('.login__btn');\nconst btnTransfer = document.querySelector('.form__btn--transfer');\nconst btnLoan = document.querySelector('.form__btn--loan');\nconst btnClose = document.querySelector('.form__btn--close');\nconst btnSort = document.querySelector('.btn--sort');\n\nconst inputLoginUsername = document.querySelector('.login__input--user');\nconst inputLoginPin = document.querySelector('.login__input--pin');\nconst inputTransferTo = document.querySelector('.form__input--to');\nconst inputTransferAmount = document.querySelector('.form__input--amount');\nconst inputLoanAmount = document.querySelector('.form__input--loan-amount');\nconst inputCloseUsername = document.querySelector('.form__input--user');\nconst inputClosePin = document.querySelector('.form__input--pin');\n\n/////////////////////////////////////////////////\n// Functions\n\nconst numberOptions = {\n  type: 'currency',\n  style: 'currency',\n  currency: 'EUR',\n};\n\nconst displayMovements = function (account, sort = false) {\n  containerMovements.innerHTML = '';\n  let movements = account.movements;\n  let dates = account.movementsDates;\n\n  const movs = sort ? movements.slice().sort((a, b) => a - b) : movements;\n\n  movs.forEach(function (mov, i) {\n    const type = mov > 0 ? 'deposit' : 'withdrawal';\n\n    let displayDate = function (date) {\n      date = new Date(dates[i]);\n      return new Intl.DateTimeFormat('sp-MX').format(date);\n    };\n    let date = displayDate();\n    if (calcDaysPassed(new Date(dates[i])) < 1) {\n      date = `Today`;\n    } else if (calcDaysPassed(date) < 7 && calcDaysPassed(date) > 1) {\n      date = `This week`;\n    } else if (calcDaysPassed(date) > 7 && calcDaysPassed(date) < 1) {\n      date = `This month`;\n    }\n\n    const html = `\n      <div class=\"movements__row\">\n        <div class=\"movements__type movements__type--${type}\">${\n      i + 1\n    } ${type}</div>\n    <div class=\"movements__date\">${date}</div>\n        <div class=\"movements__value\">${Intl.NumberFormat(\n          'en-GB',\n          numberOptions\n        ).format(mov.toFixed(2))}</div>\n      </div>\n    `;\n\n    containerMovements.insertAdjacentHTML('afterbegin', html);\n  });\n};\n\nconst calcDisplayBalance = function (acc) {\n  acc.balance = acc.movements.reduce((acc, mov) => acc + mov, 0);\n  labelBalance.textContent = `${acc.balance.toFixed(2)}â‚¬`;\n};\n\nconst calcDaysPassed = function (date2) {\n  return Math.round(Math.abs((date2 - new Date()) / (3600 * 1000 * 24)));\n};\n\nconst calcDisplaySummary = function (acc) {\n  const incomes = acc.movements\n    .filter(mov => mov > 0)\n    .reduce((acc, mov) => acc + mov, 0);\n  labelSumIn.textContent = Intl.NumberFormat('en-GB', numberOptions).format(\n    incomes.toFixed(2)\n  );\n\n  const out = acc.movements\n    .filter(mov => mov < 0)\n    .reduce((acc, mov) => acc + mov, 0);\n  labelSumOut.textContent = Intl.NumberFormat('en-GB', numberOptions).format(\n    Math.abs(out).toFixed(2)\n  );\n\n  const interest = acc.movements\n    .filter(mov => mov > 0)\n    .map(deposit => (deposit * acc.interestRate) / 100)\n    .filter((int, i, arr) => {\n      // console.log(arr);\n      return int >= 1;\n    })\n    .reduce((acc, int) => acc + int, 0);\n  labelSumInterest.textContent = Intl.NumberFormat(\n    'en-GB',\n    numberOptions\n  ).format(interest.toFixed(2));\n};\n\nconst createUsernames = function (accs) {\n  accs.forEach(function (acc) {\n    acc.username = acc.owner\n      .toLowerCase()\n      .split(' ')\n      .map(name => name[0])\n      .join('');\n  });\n};\ncreateUsernames(accounts);\n\nconst updateUI = function (acc) {\n  // Display movements\n  displayMovements(acc);\n\n  // Display balance\n  calcDisplayBalance(acc);\n\n  // Display summary\n  calcDisplaySummary(acc);\n};\n\n///////////////////////////////////////\n// Event handlers\nlet currentAccount;\n\nbtnLogin.addEventListener('click', function (e) {\n  // Prevent form from submitting\n  e.preventDefault();\n\n  currentAccount = accounts.find(\n    acc => acc.username === inputLoginUsername.value\n  );\n  console.log(currentAccount);\n  // containerApp.style.opacity = 100;\n  console.log(currentAccount.pin);\n  if (currentAccount.pin == parseInt(inputLoginPin.value)) {\n    // Display UI and message\n    console.log('Senio Garcia');\n\n    labelWelcome.textContent = `Welcome back, ${\n      currentAccount.owner.split(' ')[0]\n    }`;\n    containerApp.style.opacity = 100;\n\n    // Clear input fields\n    inputLoginUsername.value = inputLoginPin.value = '';\n    inputLoginPin.blur();\n\n    // Update UI\n    updateUI(currentAccount);\n    setTimeout(() => (containerApp.style.opacity = 0), 60000 * 5);\n\n    let timer = 300;\n    let seconds = 60;\n\n    setInterval(() => {\n      --timer;\n      --seconds;\n      let minutes = timer / 60;\n      if (seconds === 0) {\n        seconds = 60;\n      }\n\n      console.log(timer);\n      console.log(minutes);\n      console.log(seconds);\n\n      labelTimer.textContent = `${Math.trunc(minutes)}:${\n        seconds < 60 ? seconds : 0\n      } `;\n    }, 1000);\n  } else {\n    alert('The account or pin is incorrect,try again');\n    inputLoginPin.value = '';\n  }\n});\n\nbtnTransfer.addEventListener('click', function (e) {\n  e.preventDefault();\n  const amount = Number(inputTransferAmount.value);\n  const receiverAcc = accounts.find(\n    acc => acc.username === inputTransferTo.value\n  );\n  inputTransferAmount.value = inputTransferTo.value = '';\n\n  if (\n    amount > 0 &&\n    receiverAcc &&\n    currentAccount.balance >= amount &&\n    receiverAcc?.username !== currentAccount.username\n  ) {\n    // Doing the transfer\n    currentAccount.movements.push(-amount);\n    currentAccount.movementsDates.push(new Date());\n    receiverAcc.movements.push(amount);\n    receiverAcc.movementsDates.push(new Date());\n\n    // Update UI\n    updateUI(currentAccount);\n  }\n});\n\nbtnLoan.addEventListener('click', function (e) {\n  e.preventDefault();\n\n  const amount = Number(inputLoanAmount.value);\n\n  if (amount > 0 && currentAccount.movements.some(mov => mov * 0.1 >= amount)) {\n    // Add movement\n    currentAccount.movements.push(amount);\n    currentAccount.movementsDates.push(new Date());\n\n    // Update UI\n    updateUI(currentAccount);\n  } else {\n    alert('You do not have enough movement to apply for that loan');\n  }\n  inputLoanAmount.value = '';\n});\n\nbtnClose.addEventListener('click', function (e) {\n  e.preventDefault();\n  if (confirm('Are you sure you want to permantly shut down your account?')) {\n    if (\n      inputCloseUsername.value === currentAccount.username &&\n      Number(inputClosePin.value) === currentAccount.pin\n    ) {\n      const index = accounts.findIndex(\n        acc => acc.username === currentAccount.username\n      );\n      console.log(index);\n      // .indexOf(23)\n\n      // Delete account\n      accounts.splice(index, 1);\n\n      // Hide UI\n      containerApp.style.opacity = 0;\n      alert('Your account has been shut down forever');\n    }\n\n    inputCloseUsername.value = inputClosePin.value = '';\n  }\n  inputCloseUsername.value = inputClosePin.value = '';\n});\n\nlet sorted = false;\nbtnSort.addEventListener('click', function (e) {\n  e.preventDefault();\n  displayMovements(currentAccount, !sorted);\n  sorted = !sorted;\n});\nlet date = new Date();\nlabelDate.textContent = `${\n  date.getMonth() + 1\n}/${date.getDate()}/${date.getFullYear()}, ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()} `;\n/////////////////////////////////////////////////\n/////////////////////////////////////////////////\n// LECTURES\n"],"names":["account1","owner","movements","interestRate","pin","movementsDates","currency","locale","account2","accounts","labelWelcome","document","querySelector","labelDate","labelBalance","labelSumIn","labelSumOut","labelSumInterest","labelTimer","containerApp","containerMovements","btnLogin","btnTransfer","btnLoan","btnClose","btnSort","inputLoginUsername","inputLoginPin","inputTransferTo","inputTransferAmount","inputLoanAmount","inputCloseUsername","inputClosePin","numberOptions","type","style","displayMovements","account","sort","innerHTML","dates","slice","a","b","forEach","mov","i","date","Date","Intl","DateTimeFormat","format","displayDate","calcDaysPassed","html","NumberFormat","toFixed","insertAdjacentHTML","calcDisplayBalance","acc","balance","reduce","textContent","date2","Math","round","abs","calcDisplaySummary","incomes","filter","out","interest","map","deposit","int","arr","createUsernames","accs","username","toLowerCase","split","name","join","updateUI","currentAccount","addEventListener","e","preventDefault","find","value","console","log","parseInt","opacity","blur","setTimeout","timer","seconds","setInterval","minutes","trunc","alert","amount","Number","receiverAcc","push","some","confirm","index","findIndex","splice","sorted","getMonth","getDate","getFullYear","getHours","getMinutes","getSeconds"],"version":3,"file":"index.4ead39f3.js.map"}